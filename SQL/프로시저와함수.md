## 함수란?
DBMS에서의 함수는 프로그래밍에서의 함수처럼 매개변수를 받아서 작업을 수행하고 결과를 반환합니다
<br>
DBMS에서 제공되는 함수를 내장 함수라고 하는데 프로젝트를 진행하다보면 개발자가 직접 필요한 함수를 구현해야할 경우가 있습니다 그런 함수를 사용자 정의 함수라고 합니다.
<br>
사용자 정의 함수에는 두가지가 있습니다.<br>
공통적으로는 DBMS에서 제공되는 내장 함수와는 다르게 사용자가 직접 로직을 구성할 수 있고, 리턴 값에 따라서 아래와 같이 두가지로 나누어지게 됩니다.<br>
* 하나의 값 또는 null을 반환하는 "스칼라 반환 함수"
* 테이블을 반환하는 "테이블 반환 함수"

<br><br>

## 프로시저란?
프로시저는 해석 그대로 "절차"라는 의미를 가지고 있습니다.<br>
하지만 단순히 절차 그대로의 의미가 아니라 그 절차를 밟기 위해 수행해야하는 행위에 대한 묶음을 의미하며,<br>
쿼리문을 하나의 메소드 형식으로 만들고 어떤 동작을 일괄적으로 처리하게 됩니다.

<br><br>

### 장점

* 네트워크 부하 감소
    * 예를 들어서 회원 탈퇴를 하려하는데 회원 탈퇴를 하면 DB에서 회원의 상태값을 변경하고, 탈퇴 회원을 별도의 테이블에 입력을 해야한다고 가정합시다.
    <br><br>
    일반 쿼리문으로 이 기능을 수행하려면 상태값을 변경하는 쿼리문과 탈퇴 회원을 등록하는 쿼리문 두개를 작성하게 되는데 그러면 DB에 두번을 접근하게 되지만 프로시저를 사용하면 두개의 쿼리문을 하나로 묶어 단 한번의 접근으로 기능을 수행할 수 있게됩니다.
    <br><br>
    DB접근이 두번에서 한번으로 줄어드니 예시만 참고하면 큰 차이는 없어보이지만 이런 경우가 많아지면 많아질수록 성능은 좋아지겠죠

<br>

* 절차적 기능 구현이 가능합니다
    * 쿼리문에서 제어문을 사용할 수 있어서 애플리케이션에서의 소스코드를 줄일 수 있게됩니다.

<br>

* 유지보수가 편리합니다
    * 서비스를 개발한 개발자가 운영까지 한다는 조건으로 유지보수가 편리하며, DB수정 작업이 필요해서 프로시저를 수정했을 때 WAS를 재구동 하지않아도 서버에 바로 반영이 되어 편리합니다.

<br><br>

### 단점

* 유지보수가 어렵습니다
    * 서비스를 개발한 개발자와 운영을 하는 사람이 다르다면 장점이었던 유지보수는 큰 단점이 됩니다.<br>
    프로시저에는 여러개의 쿼리문이 작성되어 있고, 해당 프로시저를 많은 곳에서 사용하고 있을 것이기 때문에
    분석하는데 어려움이 있고, 이 프로시저로 인해서 오고가는 데이터를 파악하기 어렵습니다.

<br>

* 조건부 처리 성능이 낮습니다
    * 문자나 숫자 연산에 프로시저를 사용한다면 오히려 Java에서 보다 느린 성능을 가지게 됩니다.

<br><br>

## 함수와 프로시저의 차이점
프로시저와 함수 모두 매개변수를 받아서 작업을 수행하고 값을 반환한다는 점에서 같다고 느껴질 수 있지만 차이가 있습니다.
<br><br>
간단하게 정리하자면 프로시저는 작업 전체를 정리한 절차의 모음이고<br>
함수는 여러가지 작업을 위한 기능입니다.

<br><br>

#### 반환값
프로시저는 반환값을 가질수도 있고 가지지 않을수도 있습니다.<br>
하지만 함수는 반환값을 무조건 가져야 합니다.

<br>

#### 작업위치
프로시저는 서버에서 작업을 하고, 함수는 클라이언트에서 작업을 합니다.<br>
그래서 함수는 각 화면 마다 함수를 작성해야 하고, 다른화면에 있는 정보는 가져오지 못합니다.<br>
반면에 프로시저는 서버에서 작업을 하기 때문에 같은 DB에만 있다면 정보를 가져올 수 있습니다.

<br>

#### 단독사용
프로시저는 단독으로 문장을 구성할 수 있어서 아무 구문없이 호출만으로도 실행이 됩니다.<br>
하지만 함수는 수식 내에서만 사용이 가능하며 단독으로 문장을 구성할 수 없습니다.